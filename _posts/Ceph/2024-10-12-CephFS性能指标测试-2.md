---
title: CephFS性能指标测试
date: 2024-10-12 13:41:00
tags: ["存储", "Ceph"]
categories: ["Ceph", "Ceph-FS"]
render_with_liquid: false
permalink: /posts/2024-10-12-CephFS性能指标测试/
---

本文档介绍 CephFS 性能指标测试的方法。

## Ceph 性能指标测试

### 512k 小文件写满磁盘

查看 OSD 性能指标：

```bash
ceph daemon osd.x perf dump

```

"bluefs": {
        "gift_bytes": 0,
        "reclaim_bytes": 0,
        "db_total_bytes": 10737410048,
        "db_used_bytes": 90177536,
        "wal_total_bytes": 10737414144,
        "wal_used_bytes": 522190848,
        "slow_total_bytes": 2147483648,
        "slow_used_bytes": 0,
        "num_files": 13,
        "log_bytes": 1122304,
        "log_compactions": 1,
        "logged_bytes": 28454912,
        "files_written_wal": 2,
        "files_written_sst": 7,
        "bytes_written_wal": 1399526762,
        "bytes_written_sst": 118010688
    },
以4M的文件进行写入
"bluefs": {
        "gift_bytes": 0,
        "reclaim_bytes": 0,
        "db_total_bytes": 10737410048,
        "db_used_bytes": 90177536,
        "wal_total_bytes": 10737414144,
        "wal_used_bytes": 522190848,
        "slow_total_bytes": 2147483648,
        "slow_used_bytes": 0,
        "num_files": 13,
        "log_bytes": 1122304,
        "log_compactions": 1,
        "logged_bytes": 28454912,
        "files_written_wal": 2,
        "files_written_sst": 7,
        "bytes_written_wal": 1541387639,
        "bytes_written_sst": 118010688
    },

```
