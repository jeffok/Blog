---
title: bat修改主机名
date: 2019-11-25 18:58:00
tags: ["Windows"]
categories: ["Windows"]
render_with_liquid: false
permalink: /posts/2019-11-25-bat修改主机名/
---

本文档介绍 bat修改主机名 的相关内容。

> 需要先下载curlxxx.cab

```routeros
@echo off
curl http://1.2.3.4/latest/meta-data/hostname > c:\host.txt
set /p name=<c:\host.txt
set name=%name:.novalocal=%
REG.exe add "HKLM\System\CurrentControlSet\Control\ComputerName\ActiveComputerName" /v "ComputerName" /t reg_sz /d %name% /f>nul 2>&1
REG.exe add "HKLM\System\CurrentControlSet\Control\ComputerName\ComputerName" /v "ComputerName" /t reg_sz /d %name% /f>nul 2>&1
REG.exe add "HKLM\System\CurrentControlSet\Services\Tcpip\Parameters" /v "NV Hostname" /t reg_sz /d %name% /f>nul 2>&1
REG.exe add "HKLM\System\CurrentControlSet\Services\Tcpip\Parameters" /v "Hostname" /t reg_sz /d %name% /f>nul 2>&1
del c:\host.txt
shutdown -r -t 5
attrib -h -s -r -a %0
del %0

```

```bash
REG.exe add "HKLM\System\CurrentControlSet\Control\ComputerName\ActiveComputerName" /v "ComputerName" /t reg_sz /d %name% /f>nul 2>&1
REG.exe add "HKLM\System\CurrentControlSet\Control\ComputerName\ComputerName" /v "ComputerName" /t reg_sz /d %name% /f>nul 2>&1
REG.exe add "HKLM\System\CurrentControlSet\Services\Tcpip\Parameters" /v "NV Hostname" /t reg_sz /d %name% /f>nul 2>&1
REG.exe add "HKLM\System\CurrentControlSet\Services\Tcpip\Parameters" /v "Hostname" /t reg_sz /d %name% /f>nul 2>&1

```
