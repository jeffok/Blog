---
title: 通过ip设置主机名
date: 2021-12-24 16:08:00
tags: ["脚本", "Bash", "Shell"]
categories: ["Shell"]
render_with_liquid: false
permalink: /posts/2021-12-24-通过ip设置主机名/
---

本文档介绍 通过ip设置主机名 的相关内容。

## 设置主机名

```bash
vim hosts.sh

# !/bin/bash

# 对应ip与主机名的关系

cat > server.txt <<EOF

192. 168.225.129	server2
192. 168.225.130	server3
192. 168.225.131	server4
192. 168.225.132	server5
192. 168.225.133	server6
192. 168.225.134	server7
192. 168.225.135	server8
192. 168.225.136	server9
EOF

# 获取本机的IP地址

IP=`ifconfig | grep inet |grep -v inet6 | awk '{print $2}'|grep -v 127.0.0.1`

# 获取主机名

NAME=`cat server.txt |grep $IP |awk '{print $2}'`

echo $IP
echo $NAME

hostnamectl set-hostname $NAME.example.com

```
