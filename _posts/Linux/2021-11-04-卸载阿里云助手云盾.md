---
title: 卸载阿里云助手云盾
date: 2021-11-04 08:48:00
tags: ["Systemd", "网络", "Linux", "MySQL", "数据库"]
categories: ['Linux']
render_with_liquid: false
permalink: /posts/2021-11-04-卸载阿里云助手云盾/
---

本文档介绍 卸载阿里云助手云盾 的相关内容。

卸载阿里云助手
阿里云助手的路径是：/usr/local/share/aliyun-assist，执行下面的命令即可卸载它：

```bash
systemctl stop aliyun
systemctl disable aliyun
rm -rf /etc/systemd/system/aliyun.service
rm -rf /usr/sbin/aliyun_installer
rm -rf /usr/sbin/aliyun-service
rm -rf /usr/local/share/aliyun-assist
systemctl daemon-reload

```

然后通过下面的命令来查看是否还有 aliyun-service 进程：

```bash
ps -ef | grep -v grep | grep -i aliyun-service

```

如果有输出内容的话，可以通过下面的命令来查看进程 ID：

```bash
ps -ef | grep -v grep | grep -i aliyun-service | awk '{print $2}'

```

然后通过下面的命令来结束杀死此阿里云助手进程：

```bash
ps -ef | grep -v grep | grep -i aliyun-service | awk '{print $2}' | xargs kill -9

```

卸载阿里云助手的守护进程
阿里云助手守护进程的路径是：/usr/local/share/assist-daemon，执行下面的命令即可卸载它：

```bash
systemctl stop AssistDaemon
systemctl disable AssistDaemon
rm -rf /etc/systemd/system/AssistDaemon.service
rm -rf /usr/local/share/assist-daemon
systemctl daemon-reload

```

卸载阿里云盾 AliYunDun
使用 chkconfig --list 命令可以在开机启动项里面看到 aegis，这个就是阿里云盾 AliYunDun 了。

```bash
# chkconfig --list

aegis           0:off   1:off   2:on    3:on    4:on    5:on    6:off
agentwatch      0:off   1:off   2:on    3:on    4:on    5:on    6:off
cloudmonitor    0:off   1:off   2:on    3:on    4:on    5:on    6:off
mysql           0:off   1:off   2:off   3:off   4:off   5:off   6:off
netconsole      0:off   1:off   2:off   3:off   4:off   5:off   6:off
network         0:off   1:off   2:on    3:on    4:on    5:on    6:off

```

通过下面命令就可以使它开机不启动了：

```text
service aegis stop  # 停止服务
chkconfig --del aegis  # 删除服务

```

然后执行下面的命令来删除云盾残留：

```text
rm -rf /usr/local/aegis

```

然后通过下面的命令来查看是否还有 aliyundun 进程：

```bash
ps -ef | grep -v grep | grep -i aliyundun

```

如果有输出内容的话，可以通过下面的命令来结束杀死此云盾进程：

```bash
ps -ef | grep -v grep | grep -i aliyundun | awk '{print $2}' | xargs kill -9

```
