---
title: 镜像中挂载磁盘的简单脚本
date: 2019-08-09 12:40:00
tags: ["云计算", "Bash", "OpenStack", "脚本", "Shell"]
categories: ["OpenStack"]
render_with_liquid: false
permalink: /posts/2019-08-09-镜像中挂载磁盘的简单脚本/
---

本文档介绍 镜像中挂载磁盘的简单脚本 的相关内容。

```bash
大于2TB

# !/bin/bash

mkdir /data
parted /dev/vdb <<EOF
print
mklabel gpt
print
mkpart primary 0 5369GB
i
quit
EOF

mkfs.xfs /dev/vdb1

UUID1=`blkid |grep vdb1 |awk  '{print $2}'|awk -F '"' '{print $2}'`
echo "UUID=$UUID1 /data                      xfs    defaults        0 0" >> /etc/fstab

mount -a

df -h

rm -rf /root/1

```

```bash
小于2TB

# !/bin/bash

mkfs.xfs /dev/vdb

UUID1=`blkid |grep vdb |awk  '{print $2}'|awk -F '"' '{print $2}'`
echo "UUID=$UUID1 /opt                      xfs    defaults        0 0" >> /etc/fstab

mv /opt/* /mnt
mount -a
mv /mnt/* /opt/
df -h

rm -rf /root/1

```
