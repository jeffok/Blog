# 本地预览指南

## 方法一：使用 rbenv（推荐）

### 1. 安装 rbenv

```bash
# macOS (使用 Homebrew)
brew install rbenv ruby-build

# 初始化 rbenv
rbenv init
```

### 2. 安装 Ruby 3.3

```bash
# 安装 Ruby 3.3.0
rbenv install 3.3.0

# 在项目目录中设置本地 Ruby 版本
cd /Users/jeff/Project/Blog
rbenv local 3.3.0

# 验证版本
ruby --version  # 应显示 3.3.0
```

### 3. 安装 Jekyll 依赖

```bash
# 安装 bundler
gem install bundler

# 安装项目依赖
bundle install
```

### 4. 启动本地服务器

```bash
bundle exec jekyll serve
```

访问 http://localhost:4000

---

## 方法二：使用 Docker（无需安装 Ruby）

### 1. 创建 Dockerfile

```dockerfile
FROM jekyll/jekyll:latest

WORKDIR /srv/jekyll

COPY Gemfile Gemfile.lock ./
RUN bundle install

COPY . .

CMD ["bundle", "exec", "jekyll", "serve", "--host", "0.0.0.0"]
```

### 2. 运行容器

```bash
docker build -t my-blog .
docker run -p 4000:4000 -v $(pwd):/srv/jekyll my-blog
```

访问 http://localhost:4000

---

## 方法三：直接使用 GitHub Actions 构建（无需本地预览）

如果只是想部署，可以：
1. 直接推送到 GitHub
2. 在 GitHub Actions 中查看构建结果
3. 部署完成后访问线上地址

---

## 常见问题

### Q: bundle install 失败
**A:** 确保 Ruby 版本 >= 3.1，使用 `rbenv local 3.3.0` 设置版本

### Q: 端口 4000 被占用
**A:** 使用 `bundle exec jekyll serve -P 4001` 指定其他端口

### Q: 修改后页面不更新
**A:** 按 `Ctrl+C` 停止服务器，然后重新运行 `bundle exec jekyll serve`
