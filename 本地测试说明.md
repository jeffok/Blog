# 本地测试说明

## 前置条件

1. **启动 Docker Desktop**
   - 确保 Docker Desktop 正在运行
   - 检查：`docker ps` 应该能正常执行

2. **Apple Silicon Mac 用户**
   - 已自动配置 ARM64 平台支持
   - 如果遇到平台错误，确保 Docker Desktop 支持多架构

## 本地测试步骤

### 方式一：使用 docker-compose（推荐，支持热重载）

```bash
cd /Users/jeff/Project/Blog

# 启动服务（会在后台运行）
docker-compose up

# 或者在前台运行（可以看到日志）
docker-compose up --build
```

访问 http://localhost:4000

**停止服务：** 按 `Ctrl+C` 或运行 `docker-compose down`

### 方式二：直接使用 Docker

```bash
cd /Users/jeff/Project/Blog

# 构建镜像
docker build -t jeff-blog .

# 运行容器（支持文件变更自动重载）
docker run -p 4000:4000 \
  -v $(pwd):/srv/jekyll \
  jeff-blog
```

访问 http://localhost:4000

## 验证清单

- [ ] 首页正常显示
- [ ] 文章列表显示 3 篇文章
- [ ] 点击文章可以正常打开
- [ ] 关于页面正常显示
- [ ] 头像和 favicon 正常显示
- [ ] 中文界面正常显示

## 常见问题

### Docker daemon 未运行
**错误：** `Cannot connect to the Docker daemon`
**解决：** 启动 Docker Desktop 应用

### 端口 4000 被占用
**解决：** 修改 `docker-compose.yml` 中的端口映射，例如改为 `4001:4000`

### 修改文件后页面不更新
**解决：** 确保使用了 `docker-compose up` 或 `-v $(pwd):/srv/jekyll` 挂载卷
